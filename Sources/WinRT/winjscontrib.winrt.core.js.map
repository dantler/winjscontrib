{"version":3,"sources":["Sources/WinRT/winjscontrib.winrt.core.ts"],"names":["WinJSContrib","WinJSContrib.WinRT","WinJSContrib.WinRT.readProtocol","WinJSContrib.WinRT.isConnected","WinJSContrib.WinRT.hasInternetAccess","WinJSContrib.WinRT.onInternetStatusChanged","WinJSContrib.Alerts","WinJSContrib.Alerts.messageBox","WinJSContrib.Alerts.message","WinJSContrib.Alerts.confirm","WinJSContrib.Alerts.toastNotification","WinJSContrib.Alerts.toast","WinJSContrib.Logs","WinJSContrib.Logs.WinRTFileLogger","WinJSContrib.Logs.WinRTFileLogger.constructor","WinJSContrib.Logs.WinRTFileLogger.from","WinJSContrib.Logs.WinRTFileLogger.clone","WinJSContrib.Logs.WinRTFileLogger.format","WinJSContrib.Logs.WinRTFileLogger.log","WinJSContrib.Logs.WinRTFileLogger.flush","WinJSContrib.Logs.WinRTFileLogger._swapCurrentFile","WinJSContrib.Logs.WinRTFileLogger._cleanup","WinJSContrib.Logs.WinRTFileLogger.group","WinJSContrib.Logs.WinRTFileLogger.groupCollapsed","WinJSContrib.Logs.WinRTFileLogger.groupEnd"],"mappings":"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","file":"Sources/WinRT/winjscontrib.winrt.core.js","sourcesContent":["module WinJSContrib.WinRT {\r\n\r\n    /**\r\n     * read protocol arguments from application activation event arguments\r\n     * @function WinJSContrib.WinRT.readProtocol\r\n     * @param {Object} args WinJS application activation argument\r\n     * @returns {Object} protocol arguments\r\n     */\r\n    export function readProtocol(args) {\r\n        if (args.detail.kind === Windows.ApplicationModel.Activation.ActivationKind.protocol && args.detail.uri) {\r\n            var navArgs = <any>{ action: undefined };\r\n            var protocolArgs = {};\r\n            var queryargs = args.detail.uri.query;\r\n            if (queryargs[0] == '?') {\r\n                queryargs = queryargs.substr(1);\r\n            }\r\n            if (queryargs) {\r\n                queryargs.split('&').forEach(function (item) {\r\n                    var arg = item.split('=');\r\n\r\n                    protocolArgs[arg[0]] = decodeURIComponent(arg[1]);\r\n                });\r\n            }\r\n\r\n            navArgs.protocol = {\r\n                action: args.detail.uri.host,\r\n                args: protocolArgs\r\n            };\r\n\r\n            return navArgs;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Indicate if a valid internet connection is available, even with constrained access\r\n     * @function WinJSContrib.WinRT.isConnected\r\n     * @returns {boolean}\r\n     */\r\n    export function isConnected() {\r\n        var nlvl = Windows.Networking.Connectivity.NetworkConnectivityLevel;\r\n        var profile = Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile();\r\n        if (profile !== null) {\r\n            var level = profile.getNetworkConnectivityLevel();\r\n            return level === nlvl.constrainedInternetAccess || level === nlvl.internetAccess;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     * Indicate if a valid internet connection is available\r\n     * @function WinJSContrib.WinRT.hasInternetAccess\r\n     * @returns {boolean}\r\n     */\r\n    export function hasInternetAccess() {\r\n        var nlvl = Windows.Networking.Connectivity.NetworkConnectivityLevel;\r\n        var profile = Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile();\r\n        if (profile !== null) {\r\n            var level = profile.getNetworkConnectivityLevel();\r\n            return level === nlvl.internetAccess;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     * trigger callback when internet connection status is changing\r\n     * @function WinJSContrib.WinRT.onInternetStatusChanged\r\n     * @param {function} callback callback for internet status change notification\r\n     * @returns {function} function to call for unregistering the callback\r\n     */\r\n    export function onInternetStatusChanged(callback) {\r\n        var handler = function (arg) {\r\n            var e = arg;\r\n            callback(WinJSContrib.WinRT.hasInternetAccess())\r\n        }\r\n\r\n        var network = <any>Windows.Networking.Connectivity.NetworkInformation;\r\n        network.addEventListener('networkstatuschanged', handler);\r\n        return function () {\r\n            network.removeEventListener('networkstatuschanged', handler);\r\n        }\r\n    }\r\n}\r\n\r\nmodule WinJSContrib.Alerts {\r\n    \r\n    /**\r\n     * show system alert box\r\n     * @function WinJSContrib.Alerts.messageBox\r\n     * @param {Object} opt message options\r\n     * @returns {WinJS.Promise}\r\n     */\r\n    export function messageBox(opt): WinJS.Promise<any> {\r\n        var _global = <any>window;\r\n        if (opt) {\r\n            if (_global.Windows) {\r\n                var md = new Windows.UI.Popups.MessageDialog(opt.content);\r\n                if (opt.title) {\r\n                    md.title = opt.title;\r\n                }\r\n                if (opt.commands && opt.commands.forEach) {                    \r\n                    opt.commands.forEach(function (command, index) {\r\n                        var cmd = new Windows.UI.Popups.UICommand();                        \r\n                        if (command.id) cmd.id = command.id;\r\n                        cmd.label = command.label;\r\n                        if (command.callback) {\r\n                            cmd.invoked = command.callback;\r\n                        }\r\n                        ((md.commands)).append(cmd);\r\n                        if (command.isDefault) {\r\n                            md.defaultCommandIndex = index;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                return (md.showAsync());\r\n            } else {\r\n                return new WinJS.Promise(function (complete, error) {\r\n                    var title = \"\";\r\n                    if (opt.title) {\r\n                        title = opt.title;\r\n                    }\r\n\r\n\r\n                    var commands = [];\r\n                    if (opt.commands && opt.commands.forEach) {\r\n                        //if (opt.commands.length > 2) {\r\n                        //    return WinJS.Promise.wrapError(\"you must specify maximum 2 commands on Cordova platforms\");\r\n                        //}\r\n                        opt.commands.forEach(function (command, index) {\r\n                            commands.push(command.label);\r\n                        });\r\n                    } else\r\n                        commands = ['Ok'];\r\n\r\n\r\n                    if (_global.navigator && _global.navigator.notification && _global.navigator.notification.confirm) {\r\n                        _global.navigator.notification.confirm(\r\n                            opt.content, // message\r\n                            function (res) {\r\n                                if (opt.commands && opt.commands[res - 1] && opt.commands[res - 1].callback) {\r\n                                    var c = opt.commands[res - 1].callback();\r\n                                    if (c && c.then) {\r\n                                        c.then(function () {\r\n                                            complete(true);\r\n                                        });\r\n                                    } else {\r\n                                        complete(true);\r\n                                    }\r\n                                }\r\n                                else if (res != 0)\r\n                                    complete(true);\r\n                                else\r\n                                    complete(false);\r\n                            },            // callback to invoke with index of button pressed\r\n                            title,           // title\r\n                            commands     // buttonLabels\r\n                            );\r\n                    }\r\n                    else {\r\n                        if (window.confirm(title))\r\n                            complete(true);\r\n                        else\r\n                            complete(false);\r\n                    }\r\n                });\r\n\r\n            }\r\n        }\r\n        return WinJS.Promise.wrapError(\"you must specify commands as an array of objects with properties text and callback such as {text: '', callback: function(c){}}\");\r\n    };\r\n\r\n    /**\r\n     * show system alert box\r\n     * @function WinJSContrib.Alerts.message\r\n     * @param {string} title title of the alert\r\n     * @param {string} content text for the alert\r\n     * @returns {WinJS.Promise}\r\n     */\r\n    export function message(title, content): WinJS.Promise<any> {\r\n        return WinJSContrib.Alerts.messageBox({ title: title, content: content });\r\n    }\r\n\r\n    /**\r\n     * show system alert box\r\n     * @function WinJSContrib.Alerts.confirm\r\n     * @param {string} title title of the alert\r\n     * @param {string} content text for the alert\r\n     * @param {string} yes text for yes\r\n     * @param {string} no text for no\r\n     * @returns {WinJS.Promise}\r\n     */\r\n    export function confirm(title, content, yes, no): WinJS.Promise<any> {\r\n        return new WinJS.Promise(function (complete, error) {\r\n            WinJSContrib.Alerts.messageBox({\r\n                title: title,\r\n                content: content,\r\n                commands: [\r\n                    {\r\n                        label: yes,\r\n                        callback: function (e) {\r\n                            complete(true);\r\n                        },\r\n                        isDefault: true\r\n                    },\r\n                    {\r\n                        label: no,\r\n                        callback: function (e) {\r\n                            complete(false);\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * show system toast notification\r\n     * @function WinJSContrib.Alerts.toastNotification\r\n     * @param {Object} data toast options\r\n     */\r\n    export function toastNotification(data) {\r\n        if (Windows) {\r\n            var notifications = Windows.UI.Notifications;\r\n            var template = data.template || (data.picture ? notifications.ToastTemplateType.toastImageAndText01 : notifications.ToastTemplateType.toastText01);\r\n            //var template = notifications.ToastTemplateType[data.template]; //toastImageAndText01;\r\n            var toastXml = notifications.ToastNotificationManager.getTemplateContent(template);\r\n            var toastTextElements = toastXml.getElementsByTagName(\"text\");\r\n            var toastImageElements = toastXml.getElementsByTagName(\"image\");\r\n            if (data.launch) {\r\n                var toastElements = toastXml.getElementsByTagName(\"toast\");\r\n                toastElements[0].setAttribute(\"launch\", JSON.stringify(data.launch));\r\n            }\r\n\r\n            toastTextElements[0].appendChild(toastXml.createTextNode(data.text));\r\n\r\n            if (data.text2 && toastTextElements.length > 1) {\r\n                toastTextElements[1].appendChild(toastXml.createTextNode(data.text2));\r\n            }\r\n\r\n            if (data.text3 && toastTextElements.length > 1) {\r\n                toastTextElements[2].appendChild(toastXml.createTextNode(data.text3));\r\n            }\r\n\r\n            if (data.picture) {\r\n                toastImageElements[0].setAttribute(\"src\", data.picture); //\"ms-appx:///images/logo.png\"\r\n                //toastImageElements[0].setAttribute(\"alt\", \"red graphic\");\r\n            }\r\n\r\n            var toast = new notifications.ToastNotification(toastXml);\r\n            var toastNotifier = notifications.ToastNotificationManager.createToastNotifier();\r\n            toastNotifier.show(toast);\r\n        }\r\n        else {\r\n            throw \"No notification plugin found\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * show system toast notification\r\n     * @function WinJSContrib.Alerts.toast\r\n     * @param {string} text text displayed in the toast\r\n     * @param {string} picture path to a picture to display in the toast\r\n     */\r\n    export function toast(text, picture?) {\r\n        WinJSContrib.Alerts.toastNotification({ text: text, picture: picture });\r\n    }\r\n}\r\n\r\nmodule WinJSContrib.Logs {\r\n    export class WinRTFileLogger implements WinJSContrib.Logs.Appenders.ILogAppender {\r\n        readyPromise: WinJS.Promise<Windows.Storage.StorageFile>;\r\n        public maxNumberOfFiles: number = 10;\r\n        public maxBufferSize: number = 50;\r\n        public maxFlushDelay: number = 2000;\r\n        public maxFileSize: number = 3 * 1024 * 1024; //3Mo\r\n        buffer: string[] = [];\r\n        flushTimeout: any;\r\n        public file: Windows.Storage.StorageFile;\r\n\r\n        constructor(file: Windows.Storage.StorageFile) {\r\n            this.file = file;\r\n\r\n            this.readyPromise = WinJS.Promise.wrap(file);\r\n            //Windows.Storage.StorageFile.getFileFromPathAsync(path).then(null, (err) => {\r\n            //    console.error(err);\r\n            //    this.readyPromise = null;\r\n            //    return null;\r\n            //});\r\n        }\r\n\r\n        static from(folder: Windows.Storage.StorageFolder, filename: string): WinRTFileLogger {\r\n            var res = new WinRTFileLogger(null);\r\n            res.readyPromise = folder.createFileAsync(filename, Windows.Storage.CreationCollisionOption.openIfExists).then((file) => {\r\n                res.file = file;\r\n                return file;\r\n            });\r\n            return res;\r\n        }\r\n\r\n        clone() {\r\n            var appender = new WinRTFileLogger(this.file);\r\n            appender.maxBufferSize = this.maxBufferSize;\r\n            appender.maxFlushDelay = this.maxFlushDelay;\r\n            return appender;\r\n        }\r\n\r\n        format(logger: WinJSContrib.Logs.Logger, message: string, level: WinJSContrib.Logs.Levels) {\r\n        }\r\n\r\n        log(logger: WinJSContrib.Logs.Logger, message: string, level: WinJSContrib.Logs.Levels, ...args) {\r\n            var leveltxt;\r\n            if (level && WinJSContrib.Logs.Levels[level]){\r\n                leveltxt = WinJSContrib.Logs.Levels[level].toUpperCase();\r\n            }else{\r\n                leveltxt = \"UKN\";\r\n            }\r\n            this.buffer.push(new Date().getTime() + \"\\t\" + leveltxt + \"\\t\" + (logger.Config.prefix ? logger.Config.prefix + \"\\t\" : \"\") + message);\r\n            if (args && args.length) {\r\n                args.forEach((arg) => {\r\n                    if (typeof arg == \"string\") {\r\n                        this.buffer.push(\"\\t\" + arg);\r\n                    } else {\r\n                        this.buffer.push(\"\\r\\n\" + JSON.stringify(arg));\r\n                    }\r\n                });\r\n            }\r\n\r\n            this.buffer.push(\"\\r\\n\");\r\n\r\n            if (this.maxBufferSize && this.buffer.length > this.maxBufferSize) {\r\n                this.flush();\r\n            }\r\n\r\n            if (this.maxFlushDelay && !this.flushTimeout) {\r\n                this.flushTimeout = setTimeout(() => {\r\n                    this.flushTimeout = null;\r\n                    this.flush();\r\n                }, this.maxFlushDelay);\r\n            }\r\n        }\r\n\r\n        flush() {\r\n            var appender = this;\r\n            if (appender.readyPromise && appender.buffer.length) {\r\n                var existingReadyPromise = appender.readyPromise;\r\n                var currentBuffer = appender.buffer.join(\"\");\r\n                appender.buffer = [];\r\n                appender.readyPromise = new WinJS.Promise((complete, error) => {\r\n                    existingReadyPromise.then((file) => {\r\n                        return Windows.Storage.FileIO.appendTextAsync(appender.file, currentBuffer).then(() => {\r\n                            return appender.file;\r\n                        }, (err) => {\r\n                            console.error(\"error appending logs to \" + appender.file.path, err);\r\n                            return appender.file;\r\n                        });\r\n                    }).then(() => {\r\n                        if (appender.file && appender.maxFileSize) {\r\n                            return appender._swapCurrentFile();\r\n                        }\r\n                    }).then(complete, (err) => {\r\n                        console.error(err);\r\n                        complete();\r\n                    });\r\n                });\r\n\r\n                return appender.readyPromise;\r\n            }\r\n\r\n            return WinJS.Promise.wrap();\r\n        }\r\n\r\n        _swapCurrentFile(){\r\n\t\t\tvar appender = this;\r\n\t\t\treturn appender.file.getBasicPropertiesAsync().then((props) => {\r\n\t\t\t\tif (props.size > appender.maxFileSize) {\r\n\t\t\t\t\tvar oldpath = appender.file.path;\r\n\t\t\t\t\tvar oldfilename = appender.file.name;\r\n\t\t\t\t\tvar now = new Date();\r\n\t\t\t\t\tvar newfile = \"\" + now.getFullYear() + WinJSContrib.Utils.pad2(now.getMonth() + 1) + WinJSContrib.Utils.pad2(now.getDate()) + WinJSContrib.Utils.pad2(now.getHours()) + WinJSContrib.Utils.pad2(now.getMinutes()) + now.getMilliseconds();\r\n\t\t\t\t\treturn Windows.Storage.StorageFolder.getFolderFromPathAsync(oldpath.substr(0, oldpath.lastIndexOf(\"\\\\\"))).then(function(folder) {\r\n\t\t\t\t\t\treturn appender.file.renameAsync(newfile + \".\" + oldfilename, Windows.Storage.NameCollisionOption.generateUniqueName).then(function() {\r\n\t\t\t\t\t\t\treturn folder.createFileAsync(oldfilename).then((file) => {\r\n\t\t\t\t\t\t\t\tappender.file = file;\r\n\t\t\t\t\t\t\t\treturn file;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\treturn appender._cleanup();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n        }\r\n\r\n        _cleanup() {\r\n\t\t\tvar appender = this;\r\n\t\t\tvar oldpath = appender.file.path;\r\n\t\t\tvar filename = appender.file.name;\r\n\t\t\treturn Windows.Storage.StorageFolder.getFolderFromPathAsync(oldpath.substr(0, oldpath.lastIndexOf(\"\\\\\"))).then((folder) => {\r\n\t\t\t\treturn folder.getFilesAsync().then((files) => {\r\n\t\t\t\t\tvar fileslist = files.filter((f) => {\r\n\t\t\t\t\t\tif (f.path.indexOf(filename) >= 0 || f.path.indexOf(filename + \".old\") >= 0) {\r\n\t\t\t\t\t\t\tif (f.path != oldpath) {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (fileslist.length <= appender.maxNumberOfFiles)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tfileslist = fileslist.slice(0, fileslist.length - appender.maxNumberOfFiles);\r\n\t\t\t\t\treturn WinJSContrib.Promise.parallel(fileslist, (file) => {\r\n\t\t\t\t\t\treturn file.deleteAsync();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n        }\r\n\r\n        group(title: string) {\r\n        }\r\n\r\n        groupCollapsed(title: string) {\r\n        }\r\n\r\n        groupEnd() {\r\n        }\r\n    }\r\n}"],"sourceRoot":"/source/"}