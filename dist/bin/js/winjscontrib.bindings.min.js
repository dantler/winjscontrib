/* 
 * WinJS Contrib v2.1.0.7
 * licensed under MIT license (see http://opensource.org/licenses/MIT)
 * sources available at https://github.com/gleborgne/winjscontrib
 */

var WinJSContrib;!function(i){"use strict";!function(n){function t(i,n){"img"==i.nodeName.toLowerCase()?i.src=n:i.style.backgroundImage='url("'+n+'")',i.classList.add("imageLoaded")}i.Bindings.pictureUnavailable="/images/unavailable.png",i.Bindings.bindingArguments=function(i,n){var t;if(WinJS.UI._optionsParser){var e=i.getAttribute("data-win-bind-args");e&&(t=WinJS.UI.optionsParser(e,window))}else t=i.dataset.winBindArgs;return t?n?t[n]:t:void 0};var e=i.Bindings.bindingArguments;i.Bindings.removeHTML=WinJS.Binding.initializer(function(n,t,e,a){var s=i.Utils.readProperty(n,t),r=document.createElement("DIV");r.innerHTML=s,WinJS.Binding.oneTime({value:r.innerText},["value"],e,[a])}),i.Bindings.removeHTMLAndEllipsisize=WinJS.Binding.initializer(function(n,t,a,s){var r=i.Utils.readProperty(n,t),d=document.createElement("DIV");d.innerHTML=r;var l=d.innerText,o=e(a,"ellipsisize");o&&(l=toStaticHTML(i.Utils.ellipsisizeString(d.innerText,o,!0))),WinJS.Binding.oneTime({value:l},["value"],a,[s])}),i.Bindings.staticHTML=WinJS.Binding.initializer(function(n,t,e,a){var s=i.Utils.readProperty(n,t);e[a]=toStaticHTML(s)}),i.Bindings.dataAttr=WinJS.Binding.initializer(function(n,t,e,a){var s=i.Utils.readProperty(n,t);e.setAttribute("data-"+a,s)}),i.Bindings.addClass=WinJS.Binding.initializer(function(n,t,a,s){function r(s,r){var d=i.Utils.readProperty(n,t),l=e(a,"format");l?(a.classList.remove(l.format(r)),a.classList.add(l.format(d))):(a.classList.remove(r),a.classList.add(d))}var d={};return d[t]=r,WinJS.Binding.bind(n,d)}),i.Bindings.asClass=WinJS.Binding.initializer(function(n,t,e,a){function s(s,r){var d=i.Utils.readProperty(n,t);e.classList.remove(a+"-"+r),e.classList.add(a+"-"+d)}var r={};return r[t]=s,WinJS.Binding.bind(n,r)}),i.Bindings.showClassIf=WinJS.Binding.initializer(function(n,t,a,s){function r(s,r){var d=i.Utils.readProperty(n,t),l=e(a,"className");a.classList.remove(l),d&&a.classList.add(l)}var d={};return d[t]=r,WinJS.Binding.bind(n,d)}),i.Bindings.toBgImage=WinJS.Binding.initializer(function(n,t,e,a){function s(){var a=i.Utils.readProperty(n,t);return a&&a.length?void(e.style.backgroundImage='url("'+a+'")'):void(e.style.backgroundImage="")}var r={};return r[t]=s,WinJS.Binding.bind(n,r)}),i.Bindings.ToRealDate=WinJS.Binding.initializer(function(i,n,t,e){var a=new Date(1e3*i.date);t.innerHTML=a.toLocaleDateString()}),i.Bindings.picture=WinJS.Binding.initializer(function(e,a,s,r){function d(){var r=i.Utils.readProperty(e,a);r&&r.length||(r=n.pictureUnavailable),s.classList.remove("imageLoaded"),setTimeout(function(){i.UI.loadImage(r).done(function(){t(s,r)},function(){t(s,n.pictureUnavailable),WinJS.Utilities.addClass(s,"imageLoaded")})},200)}var l={};return l[a]=d,WinJS.Binding.bind(e,l)}),i.Bindings.toSmartBgImage=i.Bindings.picture,i.Bindings.showIf=WinJS.Binding.initializer(function(n,t,e,a){function s(){var s=i.Utils.readProperty(n,t);s?(e.classList.remove("mcn-hide"),e.classList.add("mcn-show"),"opacity"===a[0]||"opacity"===a[1]?e.style.opacity="":"visibility"===a[0]||"visibility"===a[1]?e.style.visibility="":e.style.display=""):(e.classList.remove("mcn-show"),e.classList.add("mcn-hide"),"opacity"===a[0]||"opacity"===a[1]?e.style.opacity="0":"visibility"===a[0]||"visibility"===a[1]?e.style.visibility="hidden":e.style.display="none")}var r={};return r[t]=s,WinJS.Binding.bind(n,r)}),i.Bindings.hideIfNot=i.Bindings.showIf,i.Bindings.hideIfNotDefined=i.Bindings.showIf,i.Bindings.hideIf=WinJS.Binding.initializer(function(n,t,e,a){function s(){var s=i.Utils.readProperty(n,t);s?(e.classList.remove("mcn-show"),e.classList.add("mcn-hide"),"opacity"===a[0]||"opacity"===a[1]?e.style.opacity="0":"visibility"===a[0]||"visibility"===a[1]?e.style.visibility="hidden":e.style.display="none"):(e.classList.remove("mcn-hide"),e.classList.add("mcn-show"),"opacity"===a[0]||"opacity"===a[1]?e.style.opacity="":"visibility"===a[0]||"visibility"===a[1]?e.style.visibility="":e.style.display="")}var r={};return r[t]=s,WinJS.Binding.bind(n,r)}),i.Bindings.showIfNot=i.Bindings.hideIf,i.Bindings.showIfNotDefined=i.Bindings.hideIf,i.Bindings.enableIf=WinJS.Binding.initializer(function(n,t,e,a){function s(){var a=i.Utils.readProperty(n,t);e.disabled=a?!1:!0}var r={};return r[t]=s,WinJS.Binding.bind(n,r)}),i.Bindings.disableIfNot=i.Bindings.enableIf,i.Bindings.disableIf=WinJS.Binding.initializer(function(n,t,e,a){function s(){var a=i.Utils.readProperty(n,t);e.disabled=a?!0:!1}var r={};return r[t]=s,WinJS.Binding.bind(n,r)}),i.Bindings.enableIfNot=i.Bindings.disableIf,i.Bindings.toWidth=WinJS.Binding.initializer(function(n,t,e,a){function s(){var a=i.Utils.readProperty(n,t);e.style.width=a?a+"%":""}var r={};return r[t]=s,WinJS.Binding.bind(n,r)}),i.Bindings.ellipsisize=WinJS.Binding.initializer(function(n,t,a,s){var r=i.Utils.readProperty(n,t),d=e(a,"ellipsisize");a[s]=toStaticHTML(i.Utils.ellipsisizeString(r,d,!0))}),i.Bindings.toEllipsisized=i.Bindings.ellipsisize,i.Bindings.emptyIfNull=WinJS.Binding.initializer(function(n,t,e,a){var s=i.Utils.readProperty(n,t);e[a]="undefined"==typeof s||null===s?"":s}),i.Bindings.phone=WinJS.Binding.initializer(function(n,t,e,a){var s=i.Utils.readProperty(n,t);e.innerHTML=s?'<a class="phonenumber" href="tel://'+s+'">'+s+"</a>":""}),i.Bindings.mail=WinJS.Binding.initializer(function(n,t,e,a){var s=i.Utils.readProperty(n,t);e.innerHTML=s?'<a class="email" href="mailto://'+s+'">'+s+"</a>":""}),i.Bindings.twoWayOnChange=WinJS.Binding.initializer(function(n,t,e,a){function s(){var s=i.Utils.readProperty(n,t);i.Utils.writeProperty(e,a,s||"")}function r(){var s=i.Utils.getProperty(e,a);i.Utils.writeProperty(n,t,s.propValue)}e.addEventListener("change",r,!1),e.winControl||(e.classList.add("win-disposable"),e.winControl={dispose:function(){e.removeEventListener("change",r)}});var d={};return d[t]=s,WinJS.Binding.bind(n,d)}),i.Bindings.itemTap=WinJS.Binding.initializer(function(n,t,e,a){setImmediate(function(){var s=i.Utils.getScopeControl(e);if(s){var r=i.Utils.readProperty(s,a),d=e.hasAttribute("lockpointer");r&&"function"==typeof r&&i.UI.tap(e,function(e){var a=i.Utils.readProperty(n,t);r.call(s,{target:e,detail:{element:e,item:a}})},{lock:d})}})}),n.cleanUpBindingList=function(i){var n=[];return i.forEach(function(i){var t=WinJS.Binding.unwrap(i);n.push(t)}),n}}(i.Bindings||(i.Bindings={}));i.Bindings}(WinJSContrib||(WinJSContrib={}));